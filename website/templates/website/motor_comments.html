{% load static %}
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1,viewport-fit=cover" />
  <title>100個の正方形グリッド</title>
<link rel="stylesheet" href="{% static 'website/css/motor_comments.css' %}">
</head>
<body>
  <div class="grid" id="grid" aria-label="100個の正方形グリッド"></div>

  <!-- 投稿一覧モーダル -->
  <dialog id="postsDialog" aria-modal="true">
    <div class="modalHead">
      <div class="modalTitle"><span id="dialogMachine"></span> への投稿を行う</div>
      <a id="openPageLink" class="btn-link" target="_blank" rel="noopener">一覧表示</a>

    </div>
    <div class="modalBody">
      <form id="postForm" class="postForm" novalidate>
        <div class="row">
          <label for="authorInput">投稿者</label>
          <input type="text" id="authorInput" placeholder="投稿者・発言者を入力 ※ 例：松山秀夫 or 実際の使用選手のコメント等" autocomplete="name" />
        </div>
        <div class="row">
          <div class="row">
            <label for="titleInput">レーサー名</label>
            <input type="text" id="titleInput" maxlength="10" placeholder="モーター使用選手を入力" />
          </div>
          <label for="dateInput">入力日</label>
          <input type="date" id="dateInput" />
        </div>
        <label for="titleSelect">開催</label>
        <select id="titleSelect" required>
          <option value="">開催を選択してください</option>
          {% for ev in titles %}
            <option value="{{ ev }}">
              {{ ev }}
            </option>
          {% endfor %}
        </select>
        <div class="row">
          <label for="contentInput">コメント</label>
          <textarea id="contentInput" placeholder="モーターに関する情報を入力" required></textarea>
        </div>
        <div class="row right">
          <button type="submit" id="submitPost">投稿</button>
        </div>
      </form>
      <div id="postsStatus" class="status" role="status">読み込み中...</div>
      <div id="postsList" class="postsList" aria-live="polite"></div>
    </div>
    <div class="modalFoot">
      
      <button id="closeDialog" type="button">閉じる</button>
    </div>
  </dialog>
<script src="{% static 'website/js/motor_comments.js' %}"></script>
{{ titles|json_script:"titles-data" }}

</body>
</html>
